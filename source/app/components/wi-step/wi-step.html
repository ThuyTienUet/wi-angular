<div>
    <style>
        wi-step wi-tab>div {
            height: calc(100% - 30px);
        }

        wi-step .bordered {
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        wi-step wi-tab .inventory-side {
            display: flex;
            flex-direction: column;
            padding: 0;
            flex: 2;
            overflow: hidden;
            background-color: #ffffff;
            margin-bottom: 0;
        }

        wi-step wi-tab .inventory-side .panel-heading {
            padding-top: 0;
            padding-bottom: 0;
        }

        wi-step .height24px span.btn.btn-default {
            line-height: 20px;
            height: 24px;
        }

        table thead {
            display: table-row;
        }

        table tbody {
            overflow-y: hidden;
            overflow-x: hidden;
            display: block;
        }

        table thead tr th {
            min-width: 100px;
        }

        table thead tr th:first-child {
            min-width: 50px;
        }

        table tbody>tr>td {
            min-width: 100px;
        }

        table tbody>tr>th {
            min-width: 50px;
        }

        table thead>tr>th {
            text-align: center;
        }

        .ui-select-bootstrap>ul.ui-select-choices,
        .ui-select-bootstrap>ul.ui-select-no-choice {
            position: fixed;
            top: auto;
            left: auto;
            width: inherit;
        }

        #testElement .wi-parent-id,
        #testElement .icon-expanded {
            display: none;
        }
    </style>
    <div class="form-group">
        <wi-tabset>
            <wi-tab heading="Configure Input">
                <div style='padding:10px;display:flex;flex-direction:row;height:100%;'>
                    <div style='flex:1;display:flex;flex-direction:column;padding: 5px 0 0 5px;' class='bordered'>
                        <div>
                            <label class="btn btn-default" ng-click="wiStep.onSelectionTypeChanged()" ng-class='{active: wiStep.selectionType==wiStep.FAMILY_GROUP_SELECTION}'>
                                <input type="radio" name="filterBy" class="display-none" value='{{wiStep.FAMILY_GROUP_SELECTION}}' ng-model="wiStep.selectionType">
                                <span class='zone-table-16x16'></span>
                            </label>
                            <label class="btn btn-default  " ng-click="wiStep.onSelectionTypeChanged()" ng-class='{active: wiStep.selectionType==wiStep.FAMILY_SELECTION}'>
                                <input type="radio" name="filterBy" class="display-none" value='{{wiStep.FAMILY_SELECTION}}' ng-model="wiStep.selectionType">
                                <span class='user-define-16x16'></span>
                            </label>
                            <label class="btn btn-default  " ng-click="wiStep.onSelectionTypeChanged()" ng-class='{active: wiStep.selectionType==wiStep.CURVE_SELECTION}'>
                                <input type="radio" name="filterBy" class="display-none" value='{{wiStep.CURVE_SELECTION}}' ng-model="wiStep.selectionType">
                                <span class='curve-16x16'></span>
                            </label>
                        </div>
                        <div style='position:relative;margin: 5px 0;'>
                            <i style="position:absolute;line-height:2.5em;left:0.5em;font-size:14px;" class="fa fa-search"></i>
                            <input wi-enter="wiStep.onFilterEnterKey(wiStep.filterText1);" style='text-indent:1.5em;' class='form-control' type='text'
                                ng-model='wiStep.filterText1'>
                        </div>
                        <div style="flex:1;display:flex;overflow-x:hidden;overflow-y:auto;background-color:white;">
                            <wi-scroll id-scroll='"selectionScroll"' style='flex:1;display:flex;flex-direction:column' up-trigger="wiStep.upTrigger"
                                down-trigger="wiStep.downTrigger">
                                <wi-base-treeview config='wiStep.selectionList' on-click-function="wiStep.onClick" filter="{{wiStep.selectionType == wiStep.FAMILY_SELECTION?wiStep.filterText:wiStep.filterText1}}">
                                </wi-base-treeview>
                            </wi-scroll>
                        </div>
                    </div>
                    <div style="margin-left:5px;flex:1;padding:5px;">
                        <ul style='padding-left:0;'>
                            <li style="display:flex;flex-direction:row; margin-bottom:5px;" ng-repeat="item in wiStep.inputConfig">
                                <div style='flex-basis:20em;text-align:right;margin-right:5px;'>
                                    <button style='width:100%;vertical-align:baseline;' class="btn btn-default" type="button" ng-click="wiStep.onSelectTemplate(item.name)">{{item.name}}
                                        <i class="fa fa-chevron-right" aria-hidden="true"></i>
                                    </button>
                                </div>
                                <div style="flex:1;position:relative;">
                                    <span ng-class="{'zone-table-16x16': item.type==wiStep.FAMILY_GROUP_SELECTION, 'user-define-16x16': item.type==wiStep.FAMILY_SELECTION, 'curve-16x16': item.type==wiStep.CURVE_SELECTION}"
                                        style='position:absolute;top:50%;transform:translateY(-50%);left:0.5em;'></span>
                                    <input type="text" style='padding-left:2em;' class='form-control' ng-model='item.label' disabled>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </wi-tab>
            <wi-tab heading='Select Input'>
                <div style="height:100%;display:flex;flex-direction:row;padding:10px;">
                    <div class="panel panel-default inventory-side">
                        <div style='display:flex;' class='panel-heading'>
                            <h5 style='margin-right:10px;'>Project</h5>
                            <wi-item-dropdown ng-show='!wiStep.isFrozen' style='flex:1;margin:5px 0;' class='height24px' icon="'project-open-16x16'"
                                on-wi-dropdown-init='wiStep.getProjectList' on-item-changed="wiStep.projectChanged">
                            </wi-item-dropdown>
                            <input style='flex:1;margin:5px 0; height:24px;font-size:14px;' class='form-control' ng-show='wiStep.isFrozen' ng-model='wiStep.projectName'
                                ng-disabled='true'>
                            <button style='margin:5px 0 5px 5px;padding:0 10px;' class='btn btn-default' title="Reload project" ng-click="wiStep.refreshProject()">
                                <i class="fa fa-refresh"></i>
                            </button>
                        </div>
                        <div style='background-color:white;border:none;padding-top: 2px;padding-bottom: 2px;' class='panel-heading'>
                            <form style='width:100%;display:flex;' ng-submit='wiStep.prjSearch()'>
                                <i style="font-size: 16px; line-height:28px;z-index:1;color:#aaa;" class="fa fa-search"></i>
                                <input type='text' style='flex:1; margin-left: -22px; padding-left: 32px;color:steelblue;' ng-model='wiStep.prjFilter' size='10'>
                            </form>
                        </div>
                        <wi-scroll id-scroll="'projectTreeScroll'" style='flex:1;display:flex;flex-direction:column;' up-trigger='wiStep.upTriggerPrj'
                            , down-trigger='wiStep.downTriggerPrj'>
                            <wi-base-treeview id='__projectWellTree' name="projectTreeview" config="wiStep.projectConfig" container="wiStep" on-click-function="wiStep.prjClickFunction"
                                filter="{{wiStep.prjFilter}}" show-id="true">
                            </wi-base-treeview>
                        </wi-scroll>
                    </div>
                    <div class='wi-droppable' style="flex:4; padding:5px;overflow:auto" wi-element-ready="wiStep.droppableSetting();">
                        <table class="table table-bordered">
                            <thead style="display: table-row;">
                                <tr>
                                    <th>Index</th>
                                    <th>Well</th>
                                    <th>Dataset</th>
                                    <th ng-repeat='inputItem in wiStep.inputConfig'>{{inputItem.name}}</th>
                                    <th ng-repeat="paramItem in wiStep.parameterConfig">{{paramItem.name}}</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody style="overflow-y:hidden;
                            overflow-x:hidden;
                            display:block;">
                                <tr ng-repeat="item in wiStep.inputArray track by $index">
                                    <th>{{$index + 1}}</th>
                                    <td>{{item.well.name}}</td>
                                    <td>{{item.dataset.name}}</td>
                                    <td ng-repeat="input in item.inputs">
                                        <ui-select ng-model="input.value">
                                            <ui-select-match>
                                                {{$select.selected.name}}
                                            </ui-select-match>
                                            <ui-select-choices repeat="curve in input.choices">
                                                {{curve.name}}
                                            </ui-select-choices>
                                        </ui-select>
                                    </td>
                                    <td ng-repeat="param in item.parameters">
                                        <ui-select ng-if="param.type == 'select'" ng-model="param.value">
                                            <ui-select-match>
                                                {{$select.selected.name}}
                                            </ui-select-match>
                                            <ui-select-choices repeat="p in param.choices">
                                                {{p.name}}
                                            </ui-select-choices>
                                        </ui-select>
                                        <input ng-if="param.type != 'select'" type="{{param.type}}" ng-model="param.value" class='form-control'>
                                    </td>
                                    <td>
                                        <button type="button" class="btn btn-default" ng-click="wiStep.onDeleteInput($index)">
                                            <span class="delete-16x16"></span>
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </wi-tab>
        </wi-tabset>
    </div>
</div>