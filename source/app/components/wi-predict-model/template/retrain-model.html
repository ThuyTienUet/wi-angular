
<form id="retrain">
    <h3>Retrain</h3>
    <div class="form-group form-inline">
        <label class="control-label col-sm-3">Model name</label>
        <select ng-model="retrainCtrl.model"
                ng-options="x as x.name for x in retrainCtrl.models track by x.id" 
                ng-change="retrainCtrl.changeModel(retrainCtrl.model.type)"
                class="form-control wi-form-control"
                >
        </select>
    </div>
    <div class="form-group form-inline" ng-show="!retrainCtrl.rnd">
        <label class="control-label col-sm-3">Number of epochs</label>
        <input class="form-control wi-form-control" type="number" ng-model="retrainCtrl.params['n_epochs']" required>
    </div>
    <div class="form-group form-inline" ng-show="!retrainCtrl.rnd">
        <label class="control-label col-sm-3">Learning rate</label>
        <input class="form-control wi-form-control" type="number" step="0.001" ng-model="retrainCtrl.params['learning_rate']" required>
    </div>
    <div class="form-group form-inline container-fluid" style="padding-left: 0">
        <label class="control-label col-sm-3">Chose data</label>
        <label class="col-sm-3">Well
            <ui-select ng-model="retrainCtrl.well"
                        on-select="retrainCtrl.changeWell()"
                        class="normal-text">
                <ui-select-match placeholder='Select a curve'>
                    {{retrainCtrl.well.name}}
                </ui-select-match>
                <ui-select-choices  position="down"
                                    repeat='well in retrainCtrl.wells | filter:{name:$select.search} track by well.idWell' >
                    <div class="normal-text">{{well.name}}</div>
                </ui-select-choices>
            </ui-select>
        </label>
        <label class="control-label col-sm-3">Dataset
            <ui-select ng-model="retrainCtrl.dataset"
                on-select="retrainCtrl.changeDateset()"
                class="normal-text">
                <ui-select-match placeholder='Select a dataset'>
                    {{retrainCtrl.dataset.name}}
                </ui-select-match>
                <ui-select-choices  position="down"
                                    repeat='dataset in retrainCtrl.datasets | filter:{name:$select.search} track by dataset.idDataset' >
                    <div class="normal-text">{{dataset.name}}</div>
                </ui-select-choices>
            </ui-select>
        </label>
        <label class="control-label col-sm-3">Curve
            <ui-select ng-model="retrainCtrl.curve"
                        on-select="retrainCtrl.changeCurve()"
                        class="normal-text">
                <ui-select-match placeholder='Select a curve'>
                    {{retrainCtrl.curve.name}}
                </ui-select-match>
                <ui-select-choices  position="down"
                                    repeat='curve in retrainCtrl.curves | filter:{name:$select.search} track by curve.idCurve' >
                    <div class="normal-text">{{curve.name}}</div>
                </ui-select-choices>
            </ui-select>
        </label>
    </div>
    <div class="form-group form-inline">
        <button class="btn btn-primary" ng-click="retrainCtrl.retrain()">Retrain</button>
    </div>
</form>