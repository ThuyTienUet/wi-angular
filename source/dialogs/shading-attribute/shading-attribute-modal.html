<div class="modal fade" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog" style="width: 700px">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" ng-click="wiModal.onCancelButtonClicked()"
                        aria-hidden="true">&times;
                </button>
                <h4 class="modal-title">Shading Attribute</h4>
            </div>
            <div class="modal-body normal-text">
                <form action="" class="form-condensed modalShadingAttr">
                    <div class="row">
                        <div class="col-sm-12">
                            <h5 class="normal-text">Header Settings</h5>
                            <div class="form-group">
                                <label class="control-label col-sm-4">
                                    Name
                                </label>
                                <div class="col-sm-6 padding-0">
                                    <input type="text"
                                            ng-model="wiModal.shadingOptions.name"
                                            class="form-control wi-form-control normal-text">
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-12">
                            <h5 class="normal-text">Shading Settings</h5>
                            <div class="row text-center">
                                <div class="col-sm-4">
                                    <label>Curve 1</label>
                                </div>
                                <div class="col-sm-4">
                                    <label>Curve 2</label>
                                </div>
                                <div class="col-sm-4">
                                    <label>Fixed Value</label>
                                </div>
                            </div>
                            <div class="row padding-bottom-1em">
                                <div class="col-sm-4">
                                    <!-- <select ng-model="wiModal.shadingOptions.idRightLine" name="curveName"
                                            class="form-control wi-form-control normal-text"
                                            ng-change="wiModal.shadingOptions.rightFixedValue = null;
                                            wiModal.setShadingName(wiModal.shadingOptions.idRightLine, wiModal.shadingOptions.idLeftLine);"
                                            ng-options="item.id as item.datasetCurve for item in wiModal.curvesOnDataset">
                                        <option></option>
                                    </select> -->
                                    <ui-select ng-model="wiModal.shadingOptions.rightLine">
                                        <ui-select-match placeholder='Select a curve'>{{wiModal.shadingOptions.rightLine.name}}</ui-select-match>
                                        <ui-select-choices group-by="'datasetName'"
                                                    repeat='c as c in wiModal.curveList | filter: $select.search'>
                                                    <div class="padding-left-20px">{{c.name}}</div>
                                        </ui-select-choices>
                                    </ui-select>
                                </div>
                                <div class="col-sm-4">
                                    <!-- <select ng-model="wiModal.shadingOptions.idLeftLine" name="curveName"
                                            class="form-control wi-form-control normal-text"
                                            ng-options="item.id as item.datasetCurve for item in wiModal.leftLimit"
                                            ng-change="wiModal.shadingOptions.leftFixedValue = null; wiModal.setLimit2(); wiModal.setShadingName(wiModal.shadingOptions.idRightLine, wiModal.shadingOptions.idLeftLine);"
                                            ng-disabled="!wiModal.shadingOptions.idRightLine">
                                    </select> -->
                                    <ui-select ng-model="wiModal.shadingOptions.leftLine"
                                                ng-change="wiModal.setLimit2()">
                                        <ui-select-match placeholder='Select a curve'>{{wiModal.shadingOptions.leftLine.name}}</ui-select-match>
                                        <ui-select-choices group-by="'datasetName'"
                                                    repeat='c as c in wiModal.leftLimit | filter: $select.search'>
                                                    <div class="padding-left-20px">{{c.name}}</div>
                                        </ui-select-choices>
                                    </ui-select>
                                </div>
                                <div class="col-sm-4">
                                    <input type="number" ng-model="wiModal.shadingOptions.leftFixedValue"
                                            class="form-control wi-form-control normal-text"
                                            ng-change="wiModal.shadingOptions.idLeftLine = null;
                                            wiModal.setShadingName(wiModal.shadingOptions.idRightLine, wiModal.shadingOptions.idLeftLine); wiModal.shadingOptions.idLeftLine = -3"
                                            step="any"
                                            ng-disabled="!wiModal.shadingOptions.rightLine">
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-4">
                                Shading type
                            </label>
                            <div class="col-sm-6">
                                <select class="form-control wi-form-control normal-text"
                                        ng-model="wiModal.shadingOptions.shadingStyle">
                                    <option value="fillPattern">Fill Pattern</option>
                                    <option value="variableShading">Variable Shading</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <hr class="margin-tb-5px">
                    <div class="row padding-bottom-1em" ng-if="wiModal.shadingOptions.shadingStyle == 'fillPattern'">
                        <div class="container-fluid">
                            <div class="row padding-bottom-1em">
                                <div class="form-group">
                                    <div class="col-sm-7 padding-left-3em">
                                        <label>
                                            <input type="checkbox" id="displayFill"
                                                   value="" name=""
                                                   ng-model="wiModal.checkboxVal"
                                                   ng-change="wiModal.fillPatternOptions.fill.display = !wiModal.checkboxVal; wiModal.correctFillingStyle()"
                                                   >
                                                Positive/Negative Fill
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div ng-show="wiModal.fillPatternOptions.fill.display" class="row">
                                <div class="container-fluid">
                                    <!-- <h5>Fill</h5> -->
                                    <div class="row padding-bottom-1em">
                                        <div class="form-group">
                                            <label class="control-label col-sm-4">Fill pattern</label>
                                            <div class="col-sm-6">
                                                <ui-select theme="bootstrap" ng-model="wiModal.fillPatternOptions.fill.pattern.name"
                                                            ng-disabled="!wiModal.fillPatternOptions.fill.display">
                                                    <ui-select-match>
                                                        <wi-canvas-rect name="_selectedPatternCanvas"
                                                                        pattern="{{wiModal.fillPatternOptions.fill.pattern.name}}"
                                                                        width="270" height="20"
                                                                        foreground="{{wiModal.fillPatternOptions.fill.pattern.foreground}}"
                                                                        background='{{wiModal.fillPatternOptions.fill.pattern.background}}'>
                                                        </wi-canvas-rect>
                                                    </ui-select-match>
                                                    <ui-select-choices repeat="selectedPattern in wiModal.selectPatterns">
                                                        <wi-canvas-rect name="{{selectedPattern}}" pattern="{{selectedPattern}}"
                                                                        width="270" height="20"
                                                                        foreground="{{wiModal.fillPatternOptions.fill.pattern.foreground}}"
                                                                        background='{{wiModal.fillPatternOptions.fill.pattern.background}}'>
                                                        </wi-canvas-rect>
                                                    </ui-select-choices>
                                                </ui-select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row padding-bottom-1em">
                                        <div class="col-sm-6">
                                            <div class="form-group">
                                                <label class="control-label col-sm-8 small-text">Foreground</label>
                                                <div class="col-sm-4 text-left">
                                                    <button ng-click="wiModal.foreground()"
                                                    ng-style="{'background-color':wiModal.fillPatternOptions.fill.pattern.foreground}"
                                                            class="form-control wi-form-control width-80px thick-border"
                                                            ng-disabled="!wiModal.fillPatternOptions.fill.display"></button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-4">
                                            <div class="form-group">
                                                <label class="control-label col-sm-8 small-text" for="background">Background</label>
                                                <div class="col-sm-4 text-left">
                                                    <button ng-style="{'background-color':wiModal.fillPatternOptions.fill.pattern.background}" ng-click="wiModal.background()"
                                                            class="form-control wi-form-control width-80px thick-border"
                                                            ng-disabled="!wiModal.fillPatternOptions.fill.display"></button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div ng-show="!wiModal.fillPatternOptions.fill.display" class="row">
                                <div class="container-fluid">
                                    <!-- <h5>Positive/Negative Fill Settings</h5> -->
                                    <!-- positive fill -->
                                    <div class="row">
                                        <div class="col-sm-7 padding-left-3em">
                                            <div class="form-group">
                                                <label>
                                                    <input type="checkbox"
                                                           ng-model="wiModal.fillPatternOptions.positiveFill.display"
                                                           ng-disabled="wiModal.fillPatternOptions.fill.display">
                                                    Positive fill
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row padding-bottom-1em">
                                        <div class="container-fluid">
                                            <div class="row padding-bottom-1em">
                                                <div class="form-group">
                                                    <label class="control-label col-sm-4">Positive pattern</label>
                                                    <div class="col-sm-6">
                                                        <ui-select theme="bootstrap" ng-model="wiModal.fillPatternOptions.positiveFill.pattern.name" ng-disabled="wiModal.fillPatternOptions.fill.display || !wiModal.fillPatternOptions.positiveFill.display">
                                                            <ui-select-match>
                                                                <wi-canvas-rect name="_selectedPatternCanvasPositive"
                                                                                pattern="{{wiModal.fillPatternOptions.positiveFill.pattern.name}}"
                                                                                width="270" height="20"
                                                                                foreground="{{wiModal.fillPatternOptions.positiveFill.pattern.foreground}}"
                                                                                background='{{wiModal.fillPatternOptions.positiveFill.pattern.background}}'>
                                                                </wi-canvas-rect>
                                                            </ui-select-match>
                                                            <ui-select-choices repeat="selectedPattern in wiModal.selectPatterns">
                                                                <wi-canvas-rect name="{{selectedPattern}}" pattern="{{selectedPattern}}"
                                                                                width="270" height="20"
                                                                                foreground="{{wiModal.fillPatternOptions.positiveFill.pattern.foreground}}"
                                                                                background='{{wiModal.fillPatternOptions.positiveFill.pattern.background}}'>
                                                                </wi-canvas-rect>
                                                            </ui-select-choices>
                                                        </ui-select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row container-fluid">
                                                <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-8 small-text">Positive Foreground</label>
                                                        <div class="col-sm-4 text-left">
                                                            <button ng-click="wiModal.posPositiveForeground()" ng-style="{'background-color':wiModal.fillPatternOptions.positiveFill.pattern.foreground}"
                                                                    class="form-control wi-form-control width-80px thick-border"
                                                                    ng-disabled="wiModal.fillPatternOptions.fill.display || !wiModal.fillPatternOptions.positiveFill.display"></button>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-4">
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-8 small-text padding-0">Positive Background</label>
                                                        <div class="col-sm-4 text-left">
                                                            <button ng-click="wiModal.posPositiveBackground()" ng-style="{'background-color':wiModal.fillPatternOptions.positiveFill.pattern.background}"
                                                                    class="form-control wi-form-control width-80px thick-border"
                                                                    ng-disabled="wiModal.fillPatternOptions.fill.display || !wiModal.fillPatternOptions.positiveFill.display"></button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- negative fill   -->
                                    <div class="row">
                                        <div class="col-sm-7 padding-left-3em">
                                            <div class="form-group">
                                                <label>
                                                    <input type="checkbox" id="NegativeFill"
                                                           value="" name=""
                                                           ng-model="wiModal.fillPatternOptions.negativeFill.display"
                                                           ng-disabled="wiModal.fillPatternOptions.fill.display">
                                                    Negative fill
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row padding-bottom-1em">
                                        <div class="container-fluid">
                                            <div class="row padding-bottom-1em">
                                                <div class="form-group">
                                                    <label class="control-label col-sm-4">Negative pattern</label>
                                                    <div class="col-sm-6">
                                                        <ui-select theme="bootstrap" ng-model="wiModal.fillPatternOptions.negativeFill.pattern.name" ng-disabled="wiModal.fillPatternOptions.fill.display || !wiModal.fillPatternOptions.negativeFill.display">
                                                            <ui-select-match>
                                                                <wi-canvas-rect name="_selectedPatternCanvasNegative"
                                                                                pattern="{{wiModal.fillPatternOptions.negativeFill.pattern.name}}"
                                                                                width="270" height="20"
                                                                                foreground="{{wiModal.fillPatternOptions.negativeFill.pattern.foreground}}"
                                                                                background='{{wiModal.fillPatternOptions.negativeFill.pattern.background}}'>
                                                                </wi-canvas-rect>
                                                            </ui-select-match>
                                                            <ui-select-choices repeat="selectedPattern in wiModal.selectPatterns">
                                                                <wi-canvas-rect name="{{selectedPattern}}" pattern="{{selectedPattern}}"
                                                                                width="270" height="20"
                                                                                foreground="{{wiModal.fillPatternOptions.negativeFill.pattern.foreground}}"
                                                                                background='{{wiModal.fillPatternOptions.negativeFill.pattern.background}}'>
                                                                </wi-canvas-rect>
                                                            </ui-select-choices>
                                                        </ui-select>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row container-fluid">
                                                <div class="col-sm-6">
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-8 small-text">Negative Foreground</label>
                                                        <div class="col-sm-4 text-left">
                                                            <button ng-click="wiModal.negPositiveForeground()" ng-style="{'background-color':wiModal.fillPatternOptions.negativeFill.pattern.foreground}"
                                                                    class="form-control wi-form-control width-80px thick-border"
                                                                    ng-disabled="wiModal.fillPatternOptions.fill.display || !wiModal.fillPatternOptions.negativeFill.display">
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-sm-4">
                                                    <div class="form-group">
                                                        <label class="control-label col-sm-8 small-text padding-0">Negative Background</label>
                                                        <div class="col-sm-4 text-left">
                                                            <button ng-click="wiModal.negPositiveBackground()" ng-style="{'background-color':wiModal.fillPatternOptions.negativeFill.pattern.background}"
                                                                    class="form-control wi-form-control width-80px thick-border"
                                                                    ng-disabled="wiModal.fillPatternOptions.fill.display || !wiModal.fillPatternOptions.negativeFill.display">
                                                            </button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>

                    <div class="row padding-bottom-1em" ng-show="wiModal.shadingOptions.shadingStyle == 'variableShading'">
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-sm-7 padding-0">
                                    <div class="form-group">
                                        <label class="control-label col-sm-7 padding-right-0">Shading Controlled by Curve</label>
                                        <div class="col-sm-5">
                                            <!-- <select class="form-control wi-form-control normal-text"
                                                    ng-model="wiModal.variableShadingOptions.idControlCurve"
                                                    ng-options="item.id as item.name for item in wiModal.curves"
                                                    ng-change="wiModal.selectedControlCurve(wiModal.variableShadingOptions.idControlCurve)"></select> -->
                                            <ui-select ng-model="wiModal.variableShadingOptions.controlCurve"
                                                        ng-change="wiModal.selectedControlCurve">
                                                <ui-select-match placeholder='Select a curve'>{{wiModal.variableShadingOptions.controlCurve.properties.name}}</ui-select-match>
                                                <ui-select-choices group-by="'datasetName'"
                                                            repeat='c as c in wiModal.curves | filter: $select.search'>
                                                            <div class="padding-left-20px">{{c.properties.name}}</div>
                                                </ui-select-choices>
                                            </ui-select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-5">
                                    <!-- <div class="form-group">
                                        <label class="control-label col-sm-5 padding-right-0">Display Type</label>
                                        <div class="col-sm-7">
                                            <select class="form-control wi-form-control normal-text"
                                                    ng-model="wiModal.displayType"
                                                    ng-change="wiModal.variableShadingOptions.fill.display = !wiModal.displayType; wiModal.correctFillingStyleVarShading()">
                                                <option value="false">Both Sides</option>
                                                <option value="true">Positive/Negative Sides</option>
                                            </select>
                                            {{wiModal.variableShadingOptions.fill.display}}-{{wiModal.displayType}}
                                        </div>
                                    </div> -->
                                    <div class="form-group">
                                        <label>
                                            <input type="checkbox"
                                                   ng-model="wiModal.displayType"
                                                   ng-change="wiModal.correctFillingStyleVarShading()"
                                                   >
                                                Positive/Negative Fill
                                        </label>
                                    </div>
                                </div>
                            </div>
                            <div class="row padding-left-2em">
                                <label>
                                    <input type="radio" value="gradient"
                                            ng-model="wiModal.varShadingType"
                                            ng-change="wiModal.setGradientIfNull()">
                                    Gradient
                                </label>
                            </div>

                            <div ng-show="!wiModal.displayType && wiModal.varShadingType == 'gradient'">
                                <div class="row padding-bottom-1em padding-left-1em">
                                    <div class="col-sm-3">
                                        Curve Value:
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            <label class="control-label col-sm-4">Low</label>
                                            <div class="col-sm-8 padding-0">
                                                <input type="number" step="any"
                                                        class="form-control wi-form-control"
                                                        ng-model="wiModal.variableShadingOptions.fill.varShading.startX">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-5 padding-0">
                                        <div class="form-group">
                                            <label class="control-label col-sm-5 padding-right-0 padding-left-60px">High</label>
                                            <div class="col-sm-7">
                                                <input type="number" step="any"
                                                        class="form-control wi-form-control"
                                                        ng-model="wiModal.variableShadingOptions.fill.varShading.endX">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row padding-bottom-1em padding-left-1em">
                                    <div class="col-sm-3">
                                        <!-- <label>
                                            <input type="radio" value="gradient" ng-model="wiModal.varShadingType">
                                            Gradient
                                        </label> -->
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            <label class="control-label col-sm-4">Low</label>
                                            <div class="col-sm-8 padding-0">
                                                <button ng-click="wiModal.fillStartColor()"
                                                        ng-style="{'background-color':wiModal.variableShadingOptions.fill.varShading.gradient.startColor}"
                                                        class="form-control wi-form-control width-80px thick-border"
                                                        ng-disabled="wiModal.varShadingType != 'gradient'"></button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-5 padding-0">
                                        <div class="form-group">
                                            <label class="control-label col-sm-5 padding-right-0 padding-left-60px">High</label>
                                            <div class="col-sm-7">
                                                <button ng-click="wiModal.fillEndColor()"
                                                        ng-style="{'background-color':wiModal.variableShadingOptions.fill.varShading.gradient.endColor}"
                                                        class="form-control wi-form-control width-80px thick-border"
                                                        ng-disabled="wiModal.varShadingType != 'gradient'"></button>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>

                            <div ng-show="wiModal.displayType && wiModal.varShadingType == 'gradient'">
                                <!-- <h5 class="normal-text">Positive Side</h5> -->
                                <div class="row">
                                    <div class="col-sm-7">
                                        <div class="form-group">
                                            <label>
                                                <input type="checkbox"
                                                       ng-model="wiModal.variableShadingOptions.positiveFill.display"
                                                       ng-disabled="wiModal.variableShadingOptions.fill.display">
                                                Positive side
                                        </div>
                                    </div>
                                </div>
                                <div class="row padding-bottom-1em padding-left-1em">
                                    <div class="col-sm-3">
                                        Curve Value:
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            <label class="control-label col-sm-4
                                            ">Low</label>
                                            <div class="col-sm-8 padding-0">
                                                <input type="number" step="any"
                                                        class="form-control wi-form-control"
                                                        ng-model="wiModal.variableShadingOptions.positiveFill.varShading.startX">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-5 padding-0">
                                        <div class="form-group">
                                            <label class="control-label col-sm-5 padding-right-0 padding-left-60px">High</label>
                                            <div class="col-sm-7">
                                                <input type="number" step="any"
                                                        class="form-control wi-form-control"
                                                        ng-model="wiModal.variableShadingOptions.positiveFill.varShading.endX">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row padding-bottom-1em padding-left-1em">
                                    <div class="col-sm-3">
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            <label class="control-label col-sm-4
                                            ">Low</label>
                                            <div class="col-sm-8 padding-0">
                                                <button ng-click="wiModal.positiveFillStartColor()"
                                                        ng-style="{'background-color':wiModal.variableShadingOptions.positiveFill.varShading.gradient.startColor}"
                                                        class="form-control wi-form-control width-80px thick-border"
                                                        ng-disabled="wiModal.varShadingType != 'gradient'"></button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-5 padding-0">
                                        <div class="form-group">
                                            <label class="control-label col-sm-5 padding-right-0 padding-left-60px">High</label>
                                            <div class="col-sm-7">
                                                <button ng-click="wiModal.positiveFillEndColor()"
                                                        ng-style="{'background-color':wiModal.variableShadingOptions.positiveFill.varShading.gradient.endColor}"
                                                        class="form-control wi-form-control width-80px thick-border"
                                                        ng-disabled="wiModal.varShadingType != 'gradient'"></button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- <h5 class="normal-text">Negative Side</h5> -->
                                <div class="row">
                                    <div class="col-sm-7">
                                        <div class="form-group">
                                            <label>
                                                <input type="checkbox"
                                                       ng-model="wiModal.variableShadingOptions.negativeFill.display"
                                                       ng-disabled="wiModal.variableShadingOptions.fill.display">
                                                Negative side
                                        </div>
                                    </div>
                                </div>
                                <div class="row padding-bottom-1em padding-left-1em">
                                    <div class="col-sm-3">
                                        Curve Value:
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            <label class="control-label col-sm-4
                                            ">Low</label>
                                            <div class="col-sm-8 padding-0">
                                                <input type="number" step="any"
                                                        class="form-control wi-form-control"
                                                        ng-model="wiModal.variableShadingOptions.negativeFill.varShading.startX">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-5 padding-0">
                                        <div class="form-group">
                                            <label class="control-label col-sm-5 padding-right-0 padding-left-60px">High</label>
                                            <div class="col-sm-7">
                                                <input type="number" step="any"
                                                        class="form-control wi-form-control"
                                                        ng-model="wiModal.variableShadingOptions.negativeFill.varShading.endX">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row padding-bottom-1em padding-left-1em">
                                    <div class="col-sm-3">
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            <label class="control-label col-sm-4
                                            ">Low</label>
                                            <div class="col-sm-8 padding-0">
                                                <button ng-click="wiModal.negativeFillStartColor()"
                                                        ng-style="{'background-color':wiModal.variableShadingOptions.negativeFill.varShading.gradient.startColor}"
                                                        class="form-control wi-form-control width-80px thick-border"
                                                        ng-disabled="wiModal.varShadingType != 'gradient'"></button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-5 padding-0">
                                        <div class="form-group">
                                            <label class="control-label col-sm-5 padding-right-0 padding-left-60px">High</label>
                                            <div class="col-sm-7">
                                                <button ng-click="wiModal.negativeFillEndColor()"
                                                        ng-style="{'background-color':wiModal.variableShadingOptions.negativeFill.varShading.gradient.endColor}"
                                                        class="form-control wi-form-control width-80px thick-border"
                                                        ng-disabled="wiModal.varShadingType != 'gradient'"></button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row padding-left-2em">
                                <label>
                                    <input type="radio" value="palette" ng-model="wiModal.varShadingType">
                                    Palette
                                </label>
                            </div>
                            <div ng-show="!wiModal.displayType && wiModal.varShadingType == 'palette'">
                                <div class="row padding-bottom-1em padding-left-1em">
                                    <div class="col-sm-3">
                                        Curve Value:
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            <label class="control-label col-sm-4
                                            ">Low</label>
                                            <div class="col-sm-8 padding-0">
                                                <input type="number" step="any"
                                                        class="form-control wi-form-control"
                                                        ng-model="wiModal.variableShadingOptions.fill.varShading.startX">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-5 padding-0">
                                        <div class="form-group">
                                            <label class="control-label col-sm-5 padding-right-0 padding-left-60px">High</label>
                                            <div class="col-sm-7">
                                                <input type="number" step="any"
                                                        class="form-control wi-form-control"
                                                        ng-model="wiModal.variableShadingOptions.fill.varShading.endX">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row padding-bottom-1em padding-left-1em">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label class="control-label col-sm-4">Palette Name</label>
                                            <div class="col-sm-8 padding-0">
                                                <select ng-model="wiModal.variableShadingOptions.fill.varShading.palName"
                                                        ng-options="item for item in wiModal.paletteName"
                                                        class="form-control wi-form-control">
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div ng-show="wiModal.displayType && wiModal.varShadingType == 'palette'">
                                <!-- <h5 class="normal-text">Positive Side</h5> -->
                                <div class="form-group">
                                    <label>
                                        <input type="checkbox"
                                               ng-model="wiModal.variableShadingOptions.positiveFill.display"
                                               ng-disabled="wiModal.variableShadingOptions.fill.display">
                                        Positive Side
                                    </label>
                                </div>
                                <div class="row padding-bottom-1em padding-left-1em">
                                    <div class="col-sm-3">
                                        Curve Value:
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            <label class="control-label col-sm-4
                                            ">Low</label>
                                            <div class="col-sm-8 padding-0">
                                                <input type="number" step="any"
                                                        class="form-control wi-form-control"
                                                        ng-model="wiModal.variableShadingOptions.positiveFill.varShading.startX">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-5 padding-0">
                                        <div class="form-group">
                                            <label class="control-label col-sm-5 padding-right-0 padding-left-60px">High</label>
                                            <div class="col-sm-7">
                                                <input type="number" step="any"
                                                        class="form-control wi-form-control"
                                                        ng-model="wiModal.variableShadingOptions.positiveFill.varShading.endX">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row padding-bottom-1em padding-left-1em">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label class="control-label col-sm-4">Palette Name</label>
                                            <div class="col-sm-8 padding-0">
                                                <select ng-model="wiModal.variableShadingOptions.positiveFill.varShading.palName"
                                                        ng-options="item for item in wiModal.paletteName"
                                                        class="form-control wi-form-control"></select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- <h5 class="normal-text">Negative Side</h5> -->
                                <div class="form-group">
                                    <label>
                                        <input type="checkbox"
                                               ng-model="wiModal.variableShadingOptions.negativeFill.display"
                                               ng-disabled="wiModal.variableShadingOptions.fill.display">
                                        Negative side
                                    </label>
                                </div>
                                <div class="row padding-bottom-1em padding-left-1em">
                                    <div class="col-sm-3">
                                        Curve Value:
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            <label class="control-label col-sm-4
                                            ">Low</label>
                                            <div class="col-sm-8 padding-0">
                                                <input type="number" step="any"
                                                        class="form-control wi-form-control"
                                                        ng-model="wiModal.variableShadingOptions.negativeFill.varShading.startX">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-5 padding-0">
                                        <div class="form-group">
                                            <label class="control-label col-sm-5 padding-right-0 padding-left-60px">High</label>
                                            <div class="col-sm-7">
                                                <input type="number" step="any"
                                                        class="form-control wi-form-control"
                                                        ng-model="wiModal.variableShadingOptions.negativeFill.varShading.endX">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row padding-bottom-1em padding-left-1em">
                                    <div class="col-sm-12">
                                        <div class="form-group">
                                            <label class="control-label col-sm-4">Palette Name</label>
                                            <div class="col-sm-8 padding-0">
                                                <select ng-model="wiModal.variableShadingOptions.negativeFill.varShading.palName"
                                                        ng-options="item for item in wiModal.paletteName"
                                                        class="form-control wi-form-control"></select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row padding-left-2em" >
                                <label>
                                    <input type="radio" value="customFills" ng-model="wiModal.varShadingType"
                                            ng-change="wiModal.setCustomFillsIfNull()">
                                    Custom Fills
                                </label>
                            </div>
                            <div class="row" ng-show="wiModal.varShadingType == 'customFills'">
                                <div class="row padding-bottom-1em padding-left-1em">
                                    <div class="col-sm-3">
                                        Curve Value:
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="form-group">
                                            <label class="control-label col-sm-4
                                            ">Low</label>
                                            <div class="col-sm-8 padding-0">
                                                <input type="number" step="any"
                                                        class="form-control wi-form-control"
                                                        ng-model="wiModal.variableShadingOptions.fill.varShading.startX">
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-sm-5 padding-0">
                                        <div class="form-group">
                                            <label class="control-label col-sm-5 padding-right-0 padding-left-60px">High</label>
                                            <div class="col-sm-7">
                                                <input type="number" step="any"
                                                        class="form-control wi-form-control"
                                                        ng-model="wiModal.variableShadingOptions.fill.varShading.endX">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <form action="" class="form-horizontal">
                                    <div class="width-85-percent float-left padding-left-1em" style="height: 200px; overflow: auto; border-bottom: solid 1.2em transparent">
                                        <table style="border-collapse: collapse;" class="text-on-table table-bordered customFillsTable col-sm-12">
                                            <thead>
                                                <tr class="text-center">
                                                    <th class="padding-tb-small">Low Value</th>
                                                    <th class="padding-tb-small">High Value</th>
                                                    <th class="padding-tb-small">Fill Pattern</th>
                                                    <th class="padding-tb-small">Foreground</th>
                                                    <th class="padding-tb-small">Background</th>
                                                    <th class="padding-tb-small">Description</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr ng-repeat="fill in wiModal.variableShadingOptions.fill.varShading.customFills.content"
                                                    ng-class="{'selected':$index == selectedRow}"
                                                    ng-click="wiModal.setClickedRow($index)">
                                                    <td style="width: 12%">
                                                        <input type="number" step="any"
                                                                ng-model="fill.lowVal"
                                                                class="form-control wi-form-control">
                                                    </td>
                                                    <td style="width: 12%">
                                                        <input type="number" step="any"
                                                                ng-model="fill.highVal"
                                                                class="form-control wi-form-control">
                                                    </td>
                                                    <td>
                                                        <ui-select theme="bootstrap" ng-model="fill.pattern">
                                                            <ui-select-match>
                                                                <wi-canvas-rect name="row_{{$index}}"
                                                                                pattern="{{fill.pattern}}"
                                                                                width="80" height="20"
                                                                                foreground="{{fill.foreground}}"
                                                                                background='{{fill.background}}'>
                                                                </wi-canvas-rect>
                                                            </ui-select-match>
                                                            <ui-select-choices repeat="selectedPattern in wiModal.selectPatterns" position="down">
                                                                <wi-canvas-rect name="{{selectedPattern}}" pattern="{{selectedPattern}}"
                                                                                width="80" height="20"
                                                                                foreground="{{fill.foreground}}"
                                                                                background="{{fill.background}}">
                                                                </wi-canvas-rect>
                                                            </ui-select-choices>
                                                        </ui-select>
                                                    </td>
                                                    <td>
                                                        <button ng-click="wiModal.foregroundCustomFills($index);"
                                                                ng-style="{'background-color':fill.foreground}"
                                                                class="form-control wi-form-control width-80px height-20px thick-border">
                                                        </button>
                                                    </td>
                                                    <td>
                                                        <button ng-click="wiModal.backgroundCustomFills($index);"
                                                                ng-style="{'background-color':fill.background}"
                                                                class="form-control wi-form-control width-80px height-20px thick-border">
                                                        </button>
                                                    </td>
                                                    <td>
                                                        <input type="text"
                                                                ng-model="fill.description"
                                                                class="form-control wi-form-control">
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <p></p>
                                    </div>
                                    <div class="width-15-percent float-left padding-left-5px text-center">
                                        <button class="btn btn-default" ng-click="wiModal.addRow()"><span class="plus-16x16"></span></button>
                                        <button class="btn btn-default" ng-click="wiModal.removeRow()"><span class="delete-16x16"></span></button>
                                        <br><br>
                                        <p class="template">Load from template</p>
                                        <select ng-model="wiModal.customFillsCurrent"
                                                class="form-control wi-form-control normal-text"
                                                ng-options="customFills as customFills.name for customFills in wiModal.customFillsList"
                                                ng-change="wiModal.setCustomFills()">
                                                <option value="">--------</option>
                                        </select>
                                    </div>
                                    <br>
                                    <div class="row">
                                        <div class="col-sm-7">
                                            <div class="form-group">
                                                <label class="control-label col-sm-5 padding-left-3em">
                                                    Custom Name
                                                </label>
                                                <div class="col-sm-7 padding-0">
                                                    <input type="text"
                                                            ng-model="wiModal.variableShadingOptions.fill.varShading.customFills.name"
                                                            class="form-control wi-form-control normal-text">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-sm-3">
                                            <button ng-click="wiModal.saveCustomFills()"
                                                    class="form-control wi-form-control template">Save to template</button>
                                        </div>
                                    </div>
                                </form>
                            </div>

                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button ng-click="wiModal.onOkButtonClicked()" class="btn btn-default">
                    <span class="ok-16x16"></span>&nbsp;Ok
                </button>
                <button class="btn btn-default" ng-click="wiModal.onCancelButtonClicked()">
                    <span class="cancel-16x16"></span>&nbsp;Cancel
                </button>
            </div>
        </div>
    </div>
</div>
