<div class="modal fade" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" ng-click="wiModal.onCancelButtonClicked();" aria-hidden="true">&times;</button>
                <h4 class="modal-title">Track Properties - {{wiModal.props.general.title}}</h4>
            </div>
            <div class="modal-body padding-0">
                <wi-tabset>
                    <wi-tab heading="General" enabled="wiModal.tabFlags[0]">
                        <div ng-show="wiModal.tabFlags[0] == 'true'" class="container-fluid padding-top-2em padding-bottom-2em padding-left-4em dialog-style">
                            <form action="" class="form-horizontal form-condensed">
                                <div id="header">
                                    <h5 class="normal-text">Header</h5>
                                    <div class="padding-left-10-percent">
                                        <div class="form-group">
                                            <div class="col-sm-8">
                                                <label for="isShowTitle">
                                                    <input type="checkbox" id="isShowTitle"
                                                           ng-model="wiModal.props.general.showTitle">
                                                    Show title
                                                </label>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-sm-3" for="title">Title</label>
                                            <div class="col-sm-8">
                                                <input type="text" class="form-control wi-form-control" id="title"
                                                        ng-model="wiModal.props.general.title"
                                                       ng-disabled="!wiModal.props.general.showTitle">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label for="topJust" class="control-label col-sm-3">
                                                Top Justification
                                            </label>
                                            <div class="col-sm-8">
                                                <select ng-model="wiModal.props.general.topJustification"
                                                        name="topJust" id="topJust"
                                                        class="form-control wi-form-control"
                                                        ng-disabled="!wiModal.props.general.showTitle">
                                                    <option value="Left">Left</option>
                                                    <option value="Center">Center</option>
                                                    <option value="Right">Right</option>
                                                </select>
                                            </div>
                                        </div>
                                        <!-- <div class="form-group">
                                            <label for="bottomJust" class="control-label col-sm-3">
                                                Bottom Justification
                                            </label>
                                            <div class="col-sm-8">
                                                <select ng-model="wiModal.props.general.bottomJustification"
                                                        name="bottomJust"
                                                        class="form-control wi-form-control" id="bottomJust"
                                                        ng-disabled="!wiModal.props.general.showTitle">
                                                    <option value="Left">Left</option>
                                                    <option value="Center">Center</option>
                                                    <option value="Right">Right</option>
                                                </select>
                                            </div>
                                        </div> -->
                                    </div>
                                </div>
                                <div id="label">
                                    <h5 class="normal-text">Label</h5>
                                    <div class="padding-left-10-percent">
                                        <div class="form-group">
                                            <div class="col-sm-3">
                                                <label for="isShowLabels">
                                                    <input type="checkbox" id="isShowLabels" value=""
                                                           ng-model="wiModal.props.general.showLabels">
                                                    Show labels
                                                </label>
                                            </div>
                                            <div class="col-sm-8">
                                                <label for="isShowEndLabels">
                                                    <input type="checkbox" id="isShowEndLabels" value=""
                                                           ng-model="wiModal.props.general.showEndLabels"
                                                            ng-disabled="!wiModal.props.general.showLabels">
                                                    Show end labels
                                                </label>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-sm-3" for="format">
                                                Format
                                            </label>
                                            <div class="col-sm-8">
                                                <input type="text" class="form-control wi-form-control"
                                                       value="" name="format" id="format"
                                                        ng-model="wiModal.props.general.labelFormat" ng-disabled="!wiModal.props.general.showLabels">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="grid">
                                    <h5 class="normal-text">Grid</h5>
                                    <div class="padding-left-10-percent">
                                        <div class="form-group">
                                            <div class="col-sm-8">
                                                <label for="isShowValueGrid">
                                                    <input type="checkbox" id="isShowValueGrid" value=""
                                                           ng-model="wiModal.props.general.showValueGrid">
                                                    Show Value Grid
                                            </label>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-sm-3" for="majorTicks">Major ticks</label>
                                            <div class="col-sm-8">
                                                <input type="number" class="form-control wi-form-control"
                                                       value="" name="majorTicks" id="majorTicks"
                                                        ng-model="wiModal.props.general.majorTicks" ng-disabled="!wiModal.props.general.showValueGrid">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-sm-3" for="minorTicks">Minor ticks</label>
                                            <div class="col-sm-8">
                                                <input type="number" class="form-control wi-form-control"
                                                       value="" name="minorTicks" id="minorTicks"
                                                        ng-model="wiModal.props.general.minorTicks"
                                                       ng-disabled="!wiModal.props.general.showValueGrid">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class="col-sm-8">
                                                <label for="isShowDepthGrid">
                                                    <input type="checkbox" id="showDepthGrid" value=""
                                                           ng-model="wiModal.props.general.showDepthGrid">
                                                    Show Depth Grid
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="geometry">
                                    <h5 class="normal-text">Geometry</h5>
                                    <div class="padding-left-10-percent">
                                        <div class="form-group">
                                            <label class="control-label col-sm-3" for="width">
                                                Width (inchs)
                                            </label>
                                            <div class="col-sm-8">
                                                <input type="number" step="any" min="0.5"
                                                       class="form-control wi-form-control" name="width"
                                                        ng-model="wiModal.props.general.width">
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label col-sm-3" for="zoomFactor">
                                                Zoom Factor
                                            </label>
                                            <div class="col-sm-8">
                                                <input type="number" step="any" min="0"
                                                       class="form-control wi-form-control" name="width"
                                                        ng-model="wiModal.props.general.zoomFactor">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div id="color">
                                    <h5 class="normal-text">Color</h5>
                                    <div class="padding-left-10-percent">
                                        <div class="form-group">
                                            <label class="control-label col-sm-3" for="track">
                                                Track
                                            </label>
                                            <div class="col-sm-8">
                                                <div class="float-left">
                                                    <button type="button" ng-click="wiModal.colorTrack();"
                                                            ng-style="{'background-color':wiModal.props.general.color}"
                                                            class="form-control wi-form-control width-80px thick-border">
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </wi-tab>
                    <wi-tab heading="Curve" enabled="wiModal.tabFlags[1]">
                        <div ng-show="wiModal.tabFlags[1] == 'true'" class="container-fluid padding-top-2em padding-bottom-2em">
                            <form action="" class="form-horizontal">
                                <div class="width-95-percent float-left">
                                    <table class="text-on-table table table-bordered curveTable">
                                        <thead>
                                            <tr>
                                                <th>Curve</th>
                                                <th>Alias</th>
                                                <th style="width: 10%">Left Scale</th>
                                                <th style="width: 10%">Right Scale</th>
                                                <th>Log/Linear</th>
                                                <th>Display Mode</th>
                                                <th>Line/Symbol Style</th>
                                                <!-- <td><strong>Symbol Style</strong></td> -->
                                                <th>Display As</th>
                                                <th></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="curve in wiModal.getCurves()"
                                                ng-class="{selected:$index == selectedRowCurve}"
                                                ng-click="wiModal.setClickedRowCurve($index)">
                                                <td style="width: 12%">
                                                    <!-- <select ng-model="wiModal.lineCurve[curve._index].id"
                                                            name="curveName"
                                                            class="form-control wi-form-control"
                                                            ng-options="item.id as item.datasetCurve for item in wiModal.curvesArr"
                                                            ng-change="wiModal.onSelectCurve();"
                                                            ng-disabled="wiModal.setDisabledCurve(curve._index)"></select> -->
                                                    <ui-select ng-model="curve.lineCurve"
                                                                ng-change="wiModal.onSelectCurve(); wiModal.onChangeCurve(curve._index);">
                                                        <ui-select-match placeholder='Select a curve'>{{curve.lineCurve.properties.name}}</ui-select-match>
                                                        <ui-select-choices group-by="'datasetName'"
                                                                    repeat='c as c in wiModal.curvesArr | filter: $select.search'>
                                                                    <div class="padding-left-20px">{{c.properties.name}}</div>
                                                        </ui-select-choices>
                                                    </ui-select>
                                                </td>

                                                <td>
                                                    <input type="text" ng-model="curve.alias"
                                                           class="form-control wi-form-control"
                                                           ng-change="wiModal.onChangeCurve(curve._index);">
                                                </td>
                                                <td>
                                                    <input type="number" ng-model="curve.minValue" step="any"
                                                           class="form-control wi-form-control"
                                                           ng-change="wiModal.onChangeCurve(curve._index);">
                                                </td>
                                                <td>
                                                    <input type="number" ng-model="curve.maxValue" step="any"
                                                           class="form-control wi-form-control"
                                                           ng-change="wiModal.onChangeCurve(curve._index);">
                                                </td>
                                                <td>
                                                    <select ng-model="curve.displayType"
                                                            value="" class="form-control wi-form-control"
                                                            ng-options="item for item in wiModal.logLinear track by item"
                                                            ng-change="wiModal.onChangeCurve(curve._index);"></select>
                                                </td>
                                                <td>
                                                    <select ng-model="curve.displayMode" name="displayMode"
                                                            value="" class="form-control wi-form-control"
                                                            ng-options="item for item in wiModal.displayMode track by item"
                                                            ng-change="wiModal.onChangeCurve(curve._index);"></select>
                                                </td>
                                                <td>
                                                    <!-- <input ng-model="curve.lineOptions"
                                                            type="button" value="Edit..." id="editLine"
                                                            class="form-control wi-form-control"
                                                            ng-click="wiModal.lineStyleButtonClicked($index, $event); wiModal.onChangeCurve(curve._index);"
                                                            ng-disabled="!wiModal.lineCurve[curve._index].id || (curve.displayMode == 'Symbol' || curve.displayMode == 'None')"> -->
                                                    <button type="button" 
                                                            ng-click="wiModal.onEditDisplayModeButtonClicked($index, $event)"
                                                            ng-disabled="curve.displayMode =='None'"
                                                            class="btn btn-default wi-form-control" 
                                                            style="font-size: 10px; width: 100%">Edit</button>
                                                </td>
                                                <!-- <td>
                                                    <input ng-model="curve.symbolOptions"
                                                            type="button" value="Edit..." id="editSymbol"
                                                            class="form-control wi-form-control"
                                                            ng-click="wiModal.symbolStyleButtonClicked($index, $event); wiModal.onChangeCurve(curve._index);"
                                                            ng-disabled="!wiModal.lineCurve[curve._index].id || (curve.displayMode == 'Line' || curve.displayMode == 'None')">
                                                </td> -->
                                                <td>
                                                    <select ng-model="curve.displayAs" name="displayAs"
                                                            value="" class="form-control wi-form-control"
                                                            ng-options="item for item in wiModal.displayAs track by item"
                                                            ng-change="wiModal.onChangeCurve(curve._index);"></select>
                                                </td>
                                                <td>
                                                    <!-- <input type="button" class="btn btn-default" 
                                                            ng-click="wiModal.removeRowCurve(curve._index)"/> -->
                                                    <button class="btn btn-default wi-form-control" 
                                                            ng-click="wiModal.removeRowCurve(curve._index);"
                                                            style="font-size: 10px; width: 100%">
                                                        <span class="delete-16x16"></span>
                                                    </button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="width-5-percent float-left padding-left-5px">
                                    <!-- <button class="btn btn-default" ng-click="wiModal.removeRowCurve();">
                                        <span class="delete-16x16"></span>
                                    </button> -->
                                    <button class="btn btn-default" ng-click="wiModal.addRowCurve();">
                                        <span class="plus-16x16"></span>
                                    </button>
                                </div>
                            </form>
                        </div>
                    </wi-tab>
                    <wi-tab heading="Shading" active="wiModal.shadingOnly;" enabled="wiModal.tabFlags[2]">
                        <div ng-show="wiModal.tabFlags[2] == 'true'" class="container-fluid padding-top-2em padding-bottom-2em">
                            <form action="" class="form-horizontal">
                                <div class="col-sm-11 padding-0">
                                    <table style="border-collapse: collapse;" class="text-on-table table table-bordered shadingTable col-sm-12">
                                        <thead>
                                            <tr>
                                                <td class="text-center"><strong>Limit 1</strong></td>
                                                <td colspan="2" class="text-center"><strong>Limit 2</strong></td>
                                                <td colspan="3" class="text-center"><strong>Parameters</strong></td>
                                                <td rowspan="2"></td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td class="text-center"><strong>Curve 1</strong></td>
                                                <td class="text-center"><strong>Curve 2</strong></td>
                                                <td class="text-center" style="width: 15%"><strong>Fixed Value</strong></td>
                                                <td class="text-center"><strong>Shading Name</strong></td>
                                                <td class="text-center"><strong>Shading Style</strong></td>
                                                <td class="text-center"><strong>Shading Options</strong></td>
                                                <td></td>
                                            </tr>
                                            <tr ng-repeat="shading in wiModal.getShadings()"
                                                ng-class="{'selected':$index == selectedRowShading}"
                                                ng-click="wiModal.setClickedRowShading($index)">
                                                <td>
                                                    <!-- <select ng-model="shading.idRightLine" name="curveName"
                                                            class="form-control wi-form-control"
                                                            ng-options="item.id as item.datasetCurve for item in wiModal.curvesOnDataset"
                                                            ng-change="wiModal.onChangeShading($index);wiModal.setShadingName(shading.idRightLine, shading.idLeftLine, shading._index);">
                                                        <option></option>
                                                    </select> -->
                                                    <ui-select ng-model="shading.rightLine"
                                                                ng-change="wiModal.onChangeShading(shading._index); wiModal.onSelectRightLine();">
                                                        <ui-select-match placeholder='Select a curve'>{{shading.rightLine.name}}</ui-select-match>
                                                        <ui-select-choices group-by="'datasetName'"
                                                                    repeat='c as c in wiModal.curveList | filter: $select.search'>
                                                                    <div class="padding-left-20px">{{c.name}}</div>
                                                        </ui-select-choices>
                                                    </ui-select>
                                                </td>
                                                <td>
                                                    <!-- <select ng-model="shading.idLeftLine"
                                                            class="form-control wi-form-control"
                                                            ng-options="item.id as item.datasetCurve for item in wiModal.leftLimit"
                                                            ng-change="wiModal.onChangeShading($index);
                                                             shading.leftFixedValue = null; wiModal.validate(shading._index); wiModal.setFillDisplay(shading._index); wiModal.setLimit2(shading._index);wiModal.setShadingName(shading.idRightLine, shading.idLeftLine, shading._index);"
                                                            ng-disabled="!shading.idRightLine"> -->
                                                        <!-- <option value="{{item.id}}" ng-repeat="item in wiModal.curvesOnDataset">{{item.datasetCurve}}</option> -->
                                                    <!-- </select> -->
                                                    <ui-select ng-model="shading.leftLine"
                                                                ng-change="wiModal.onChangeShading(shading._index); wiModal.onSelectLeftLine();">
                                                        <ui-select-match placeholder='Select a curve'>{{shading.leftLine.name}}</ui-select-match>
                                                        <ui-select-choices group-by="'datasetName'"
                                                                    repeat='c as c in wiModal.leftLimit | filter: $select.search'>
                                                                    <div class="padding-left-20px">{{c.name}}</div>
                                                        </ui-select-choices>
                                                    </ui-select>
                                                </td>
                                                <td>
                                                    <input type="number" ng-model="shading.leftFixedValue"
                                                            class="form-control wi-form-control" id="fixedVal"
                                                            ng-change="wiModal.onChangeShading($index);
                                                            wiModal.setShadingName(shading.idRightLine, shading.idLeftLine, shading._index);
                                                            wiModal.typeFixedValue();"
                                                            step="any">
                                                </td>
                                                <!-- <td class="border border-style1-right">
                                                    <input type="number" ng-model="shading.rightFixedValue"
                                                            class="form-control wi-form-control"
                                                            ng-change="wiModal.onChangeShading($index);wiModal.setShadingName();"  step="any"
                                                            disabled>
                                                </td> -->
                                                <td>
                                                    <input type="text" ng-model="shading.name"
                                                            class="form-control wi-form-control"
                                                            ng-change="wiModal.onChangeShading($index)">
                                                </td>
                                                <td>
                                                    <select ng-model="shading.shadingStyle"
                                                            class="form-control wi-form-control"
                                                            ng-change="wiModal.onChangeShading($index)">
                                                        <option value="fillPattern">Fill Pattern</option>
                                                        <option value="variableShading">Variable Shading</option>
                                                    </select>
                                                </td>
                                                <td>
                                                    <input type="button" value="Define"
                                                            ng-model="shading.fillPattern"
                                                            class="form-control wi-form-control"
                                                            ng-click="wiModal.defineButtonClicked($index, $event); wiModal.onChangeShading($index);">
                                                </td>
                                                <td>
                                                    <button class="btn btn-default wi-form-control" 
                                                            ng-click="wiModal.removeRowShading(shading._index);"
                                                            style="font-size: 10px; width: 100%">
                                                        <span class="delete-16x16"></span>
                                                    </button>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <p></p>
                                </div>
                                <div class="col-sm-1">
                                    <button type="button" class="btn btn-default" ng-click="wiModal.removeRowShading()"><span class="delete-16x16"></span></button>
                                    <button type="button" class="btn btn-default" ng-click="wiModal.addRowShading()"><span class="plus-16x16"></span></button>
                                </div>
                            </form>
                        </div>
                    </wi-tab>
                </wi-tabset>
            </div>
            <div class="modal-footer">
                <button type="button" ng-click="wiModal.onApplyButtonClicked()" class="btn btn-default"
                        ng-disabled="wiModal.applyInProgress"><span class="apply-16x16"></span>&nbsp;Apply</button>
                <button type="button" ng-click="wiModal.onOkButtonClicked()" class="btn btn-default"
                        ng-disabled="wiModal.applyInProgress"><span class="ok-16x16"></span>&nbsp;OK</button>
                <button type="button" ng-click="wiModal.onCancelButtonClicked()" class="btn btn-default"><span class="close-16x16"></span>&nbsp;Cancel</button>
            </div>
        </div>
    </div>
</div>
